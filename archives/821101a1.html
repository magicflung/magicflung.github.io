<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.0.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://flunggg.cn").hostname,root:"/",scheme:"Gemini",version:"7.5.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!0,color:"#836FFF",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},sidebarPadding:40}</script><meta name="description" content="更新和删除操作"><meta name="keywords" content="数据库"><meta property="og:type" content="article"><meta property="og:title" content="MySQL数据库(六)更新和删除操作"><meta property="og:url" content="https:&#x2F;&#x2F;flunggg.cn&#x2F;archives&#x2F;821101a1.html"><meta property="og:site_name" content="flunggg"><meta property="og:description" content="更新和删除操作"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2020-01-13T04:25:03.811Z"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://flunggg.cn/archives/821101a1.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>MySQL数据库(六)更新和删除操作 | flunggg</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="flunggg" type="application/atom+xml"></head><body itemscope itemtype="https://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="https://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">flunggg</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">做自己喜欢的事</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-top"><a href="/top/" rel="section"><i class="fa fa-fw fa-signal"></i> 阅读排行</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档<span class="badge">15</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类<span class="badge">4</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签<span class="badge">4</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-message"><a href="/message/" rel="section"><i class="fa fa-fw fa-bell"></i> 留言板</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <a href="https://github.com/magicflung" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="external nofollow noopener noreferrer" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="https://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://flunggg.cn/archives/821101a1.html"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="flunggg"><meta itemprop="description" content="做自己喜欢的事"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="flunggg"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> MySQL数据库(六)更新和删除操作</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-01-13 12:24:11 / 修改时间：12:25:03" itemprop="dateCreated datePublished" datetime="2020-01-13T12:24:11+08:00">2020-01-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span><br><span id="/archives/821101a1.html" class="post-meta-item leancloud_visitors" data-flag-title="MySQL数据库(六)更新和删除操作" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i></span> <span class="post-meta-item-text">Valine：</span><a title="valine" href="/archives/821101a1.html#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/archives/821101a1.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>1.1k</span></span><div class="post-description">更新和删除操作</div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>前提要述：参考书籍《MySQL必知必会》</p></blockquote><h2 id="6-1-更新数据"><a href="#6-1-更新数据" class="headerlink" title="6.1 更新数据"></a>6.1 更新数据</h2><p>为了更新（修改）表中的数据，可使用UPDATE语句。可采用两种方式使用UPDATE：</p><ul><li>更新表中特定的行；</li><li>更新表中所有的行。</li></ul><p>UPDATE语法的结构由3部分组成：</p><ul><li>要更新的表；</li><li>列名和它们的新值；</li><li>确定要更新行的过滤条件（WHERE关键字）。</li></ul><p>格式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">UPDATE &lt;table_name&gt; SET field1&#x3D;newValue1, field2&#x3D;newValue2,...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    WHERE condition;</span></pre></td></tr></table></figure><p>解释：</p><ul><li>SET命令用来将新值赋给被更新的列。</li><li><strong>使用WHERE子句来告诉MySQL要更新哪一行，一般会选择一个可以唯一区别其他行的字段作为条件。如果没有WHERE子句那么就会更新表中所有的行，这是非常致命的问题。</strong></li></ul><p>比如：在学生表中修改李四的性别：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">UPDATE student SET stu_sex&#x3D;&#39;女&#39; WHERE stu_name&#x3D;&#39;李四&#39;;</span></pre></td></tr></table></figure><p>如果为了删除某个列的值，则可以设置为NULL（假设表定义允许NULL值）</p><p>在UPDATE语句中可以使用子查询的结果来更新数据；如果在更新一行或多行时出现一个错误，则整个UPDATE操作都会被取消（错误发生前更新的所有列被恢复到它们原来的值）。即使是错误，如果要继续执行更新，则可以使用IGNORE关键字。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">UPDATE IGNORE &lt;table_name&gt;...;</span></pre></td></tr></table></figure><h2 id="6-2-删除数据"><a href="#6-2-删除数据" class="headerlink" title="6.2 删除数据"></a>6.2 删除数据</h2><p>为了将一个表中的某一行删除，使用DELETE语句。可以有两种方式使用DELETE:</p><ul><li>从表中删除特定的行；</li><li>从表中删除所有行。</li></ul><p>格式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">DELETE FROM &lt;table_name&gt; WHERE condition;</span></pre></td></tr></table></figure><p>解释：</p><ul><li>DELETE不需要列名和通配符。<strong>DELETE删除整行而不是删除列</strong><br>。如果要删除列，使用UPDATE。</li><li><strong>DELETE跟UPDATE一样，都必须要有WHERE，即指定要删除哪一行，所以必须注意；除非你要删除表中全部数据，那就不加WHERE。</strong></li><li>WHERE一般指定的是能够唯一区分行的字段，比如主键，名字（假设没有重名的话）</li></ul><p>例如：删除学生表中名为李四的学生：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">DELETE FROM student WHERE stu_name&#x3D;&#39;李四&#39;;</span></pre></td></tr></table></figure><p><strong>如果想要更快的从表中删除所有的行，不要使用DELETE，使用TRUNCATE TABLE语句，它完成相同的工作，但是速度更快。因为TRUNCATE实际是删除原来的表并重新创建一个表，而不是逐行删除表中的数据。</strong></p><h2 id="6-3-更新和删除的指导原则"><a href="#6-3-更新和删除的指导原则" class="headerlink" title="6.3 更新和删除的指导原则"></a>6.3 更新和删除的指导原则</h2><p>SQL程序员使用UPDATE和DELETE必须遵循的习惯：</p><ul><li>除非确实打算更新和删除每一行，否则绝不要使用不带WHERE子句的UPDATE或DELETE语句。</li><li>保证每个表都是有主键的，尽可能像WHERE子句那样使用它（可以指定各主键，多个值或值的范围）。</li><li>在对UPDATE或DELETE语句使用WHERE子句前，应该先用SELECT查询语句进行测试，保证它过滤的是正确的记录，以防止编写WHERE子句不正确。</li><li>使用强制实施引用完整性的数据库，这样MySQL将不允许删除具有与其他表相关联的数据的行（外键）。</li><li>MySQL没有撤销（undo）按钮，所以应该小心使用UPDATE和DELETE语句。</li></ul></div><div><div class="my_post_copyright"><script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script><script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script><script src="/js/sweetalert.min.js"></script><p><span>文章作者:</span><a href="/" title="访问 flunggg 的个人博客">flunggg</a></p><p><span>发布时间:</span>2020年01月13日 - 12:01</p><p><span>原始链接:</span><a href="/archives/821101a1.html" title="MySQL数据库(六)更新和删除操作">https://flunggg.cn/archives/821101a1.html</a><span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://flunggg.cn/archives/821101a1.html" aria-label="复制成功！"></i></span></p><p><span>许可协议:</span> 转载请保留原文链接及作者。</p></div><script>var clipboard=new Clipboard(".fa-clipboard");$(".fa-clipboard").click(function(){clipboard.on("success",function(){swal({title:"",text:"复制成功",icon:"success",showConfirmButton:!0})})})</script></div><div class="reward-container"><div></div> <button disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';"> 打赏</button><div id="qr" style="display:none"><div style="display:inline-block"> <img src="/images/wechatpay.jpg" alt="flunggg 微信支付"><p>微信支付</p></div><div style="display:inline-block"> <img src="/images/alipay.jpg" alt="flunggg 支付宝"><p>支付宝</p></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag"><i class="fa fa-tag"></i> 数据库</a></div><div class="post-nav"><div class="post-nav-item"><a href="/archives/d51ba115.html" rel="prev" title="MySQL数据库(五)插入操作"><i class="fa fa-chevron-left"></i> MySQL数据库(五)插入操作</a></div><div class="post-nav-item"></div></div></footer></article></div></div><div class="comments" id="comments"></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-更新数据"><span class="nav-text">6.1 更新数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-删除数据"><span class="nav-text">6.2 删除数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-更新和删除的指导原则"><span class="nav-text">6.3 更新和删除的指导原则</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="https://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="flunggg" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">flunggg</p><div class="site-description" itemprop="description">做自己喜欢的事</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">4</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">4</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/magicflung" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;magicflung" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="https://blog.csdn.net/weixin_41800884" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_41800884" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-maxcdn"></i> CSDN</a></span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i> RSS</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">flunggg</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">32k</span></div><div id="days"></div><script language="javascript">function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("11/29/2019 20:00:00"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="已运行"+daysold+"天"+hrsold+"时"+minsold+"分"+seconds+"秒"}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script> <span id="busuanzi_container_site_pv">本站总访问量<span class="busuanzi-value" id="busuanzi_value_site_pv"></span>次</span><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="https://ajax.cat.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'ogeebUOA3cE6iHMOmWC9IdvV-gzGzoHsz',
    appKey: 'U1fUosFMtzuRYccYpt5bEDhv',
    placeholder: "Just go go",
    avatar: 'monsterid',
    meta: guest,
    pageSize: '10' || 10,
	avatar_cdn:'https://www.gravatar.com/avatar/',
    visitor: true,
    lang: '' || 'zh-cn',
    path: location.pathname,
    recordIP: false,
    serverURLs: ''
  });
}, window.Valine);
</script></body><script type="text/javascript" src="/js/src/clicklove.js"></script><script type="text/javascript" src="/js/src/FunnyTitle.js"></script><canvas id="canvas" width="1440" height="900"></canvas><script type="text/javascript" src="/js/src/DigitalRain.js"></script></html>