<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.0.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://flunggg.cn").hostname,root:"/",scheme:"Gemini",version:"7.5.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!1,sidebar:!1,scrollpercent:!0},bookmark:{enable:!0,color:"#836FFF",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},sidebarPadding:40}</script><meta name="description" content="MySQL第七篇：简单查询操作"><meta name="keywords" content="数据库"><meta property="og:type" content="article"><meta property="og:title" content="快速回顾MySQL：简单查询操作"><meta property="og:url" content="https:&#x2F;&#x2F;flunggg.cn&#x2F;archives&#x2F;6ca57e6e.html"><meta property="og:site_name" content="flunggg"><meta property="og:description" content="MySQL第七篇：简单查询操作"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2020-01-13T09:21:48.888Z"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://flunggg.cn/archives/6ca57e6e.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>快速回顾MySQL：简单查询操作 | flunggg</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="flunggg" type="application/atom+xml"></head><body itemscope itemtype="https://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="https://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">flunggg</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">做自己喜欢的事</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-top"><a href="/top/" rel="section"><i class="fa fa-fw fa-signal"></i> 阅读排行</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档<span class="badge">16</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类<span class="badge">4</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签<span class="badge">4</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-message"><a href="/message/" rel="section"><i class="fa fa-fw fa-bell"></i> 留言板</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <a href="https://github.com/magicflung" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="external nofollow noopener noreferrer" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="https://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://flunggg.cn/archives/6ca57e6e.html"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="flunggg"><meta itemprop="description" content="做自己喜欢的事"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="flunggg"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 快速回顾MySQL：简单查询操作</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-01-13 12:31:44 / 修改时间：17:21:48" itemprop="dateCreated datePublished" datetime="2020-01-13T12:31:44+08:00">2020-01-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span><br><span id="/archives/6ca57e6e.html" class="post-meta-item leancloud_visitors" data-flag-title="快速回顾MySQL：简单查询操作" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i></span> <span class="post-meta-item-text">Valine：</span><a title="valine" href="/archives/6ca57e6e.html#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/archives/6ca57e6e.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>1k</span></span><div class="post-description">MySQL第七篇：简单查询操作</div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>前提要述：参考书籍《MySQL必知必会》</p></blockquote><h2 id="7-1-检索数据"><a href="#7-1-检索数据" class="headerlink" title="7.1 检索数据"></a>7.1 检索数据</h2><p>为了查询出数据库表中的行（数据），使用SELECE语句。</p><p>格式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"># 第一种</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">SELECT * FROM &lt;table_name&gt;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"># 第二种</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">SELECT field1,field2,... FROM &lt;table_name&gt;;</span></pre></td></tr></table></figure><ul><li>第一种写法使用*通配符，会把表中行的列全部查询出来，而不必取一一列出全部列。但是不推荐使用，这跟INSERT语句的规范写法一样。<strong>使用*通配符，列的顺序一般是列在表定义中出现的顺序，但有时候并不是这样的，表的模式的变化（如添加或删除列）可能会导致顺序的变化。特别是像使用INSERT SELECT这样的语句，可能会报错，甚至可能会不会报错但是数据插入错误的列。</strong></li><li><strong>推荐使用第二种，第二种查询方式可以查询表中行的全部列，也可以查询表中行的单列或多列。</strong></li><li>使用通配符注意事项：虽然使用通配符可能会省事，不用明确列出所需列，但检索不需要的列通常会降低检索和应用程序的性能。</li></ul><p>例如：</p><ul><li>单列查询：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">SELECT stu_name FROM student;</span></pre></td></tr></table></figure><ul><li>多列查询：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">SELECT stu_name, stu_sex FROM student;</span></pre></td></tr></table></figure><ul><li>查询全部列：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">SELECT * FROM student;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"># 或（推荐）</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">SELECT stu_id, stu_name, stu_sex FROM student;</span></pre></td></tr></table></figure><h2 id="7-2-检索不同的行"><a href="#7-2-检索不同的行" class="headerlink" title="7.2 检索不同的行"></a>7.2 检索不同的行</h2><p>因为在表中有时候需要进行去重操作，可以使用DISTINCT关键字，让SELECT查询的结果返回不同的值。</p><p>格式：</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> field1,field2,... <span class="keyword">FROM</span> &lt;stable_name&gt;;</span></pre></td></tr></table></figure><p>DISTINCT关键字的注意：</p><ul><li>如果是单列，那么使用该关键字会将该列作为判断去重的条件。</li><li>如果是多列，那么会将该多列作为判断去重的条件。</li><li>使用这些单列或多列作为去重条件，如果在表中都是不相同的，那么就会将所有行都查出来。</li></ul><h2 id="7-3-限制结果"><a href="#7-3-限制结果" class="headerlink" title="7.3 限制结果"></a>7.3 限制结果</h2><p>SELECT语句返回所有匹配的行。如果为了返回第一行或前几行，那么可以使用LIMIT子句。</p><p>格式：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一种（n为整数）</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> field1,field2,... <span class="keyword">FROM</span> &lt;stable_name&gt; <span class="keyword">LIMIT</span> n;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第二种 (n，m为整数, n&gt;=0, m&gt;=1)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> field1,field2,... <span class="keyword">FROM</span> &lt;stable_name&gt; <span class="keyword">LIMIT</span> n,m;</span></pre></td></tr></table></figure><p>解释：</p><ul><li>第一种写法，对于查询出的数据（行）只返回不多于n行。</li><li>第二种写法，LIMIT后的n表示查询的开始的位置，m表示要检索的行数。即，从第n行开始查询m行。</li><li>LIMIT后n是从0开始的，所以检索出来的第一行为行0而不是行1。因此，LIMIT 1,1 是将检索出第二行而不是第一行。</li><li>如果LIMIT指定要检索的行数超过表中的行数，那么MySQL将返回它能返回的那么多行。</li></ul><p>因为有人会把LIMIT n,m的语法搞混，比如LIMIT 3,4 是从行4开始的3行还是从行3开始的4行？如上面所述，它的意思是从行3开始的4行。<br>所以，<strong>MySQL 5支持LIMIT的另一种代替语法：LIMIT 4 OFFSET 3，意思是从行3开始取4行。</strong></p><h2 id="7-4-使用完全限定的表名"><a href="#7-4-使用完全限定的表名" class="headerlink" title="7.4 使用完全限定的表名"></a>7.4 使用完全限定的表名</h2><p>到目前为止SQL例子只通过列名引用列。也可能会使用完全限定的名称来引用列（同时使用表明和列名），如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">SELECT <span class="tag">&lt;<span class="name">stable_name</span>&gt;</span>.field1,<span class="tag">&lt;<span class="name">stable_name</span>&gt;</span>.field2,...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    FROM <span class="tag">&lt;<span class="name">stable_name</span>&gt;</span>;</span></pre></td></tr></table></figure><p>在单表时可能看不出什么差别，但是在多表查询时，<strong>并且是那种有相关联的表，因为有可能两张表会有相同的列名，所以需要使用完全限定的表名来区分。</strong></p></div><div><div class="my_post_copyright"><script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script><script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script><script src="/js/sweetalert.min.js"></script><p><span>文章作者:</span><a href="/" title="访问 flunggg 的个人博客">flunggg</a></p><p><span>发布时间:</span>2020年01月13日 - 12:01</p><p><span>原始链接:</span><a href="/archives/6ca57e6e.html" title="快速回顾MySQL：简单查询操作">https://flunggg.cn/archives/6ca57e6e.html</a><span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://flunggg.cn/archives/6ca57e6e.html" aria-label="复制成功！"></i></span></p><p><span>许可协议:</span> 转载请保留原文链接及作者。</p></div><script>var clipboard=new Clipboard(".fa-clipboard");$(".fa-clipboard").click(function(){clipboard.on("success",function(){swal({title:"",text:"复制成功",icon:"success",showConfirmButton:!0})})})</script></div><div class="reward-container"><div></div> <button disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';"> 打赏</button><div id="qr" style="display:none"><div style="display:inline-block"> <img src="/images/wechatpay.jpg" alt="flunggg 微信支付"><p>微信支付</p></div><div style="display:inline-block"> <img src="/images/alipay.jpg" alt="flunggg 支付宝"><p>支付宝</p></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag"><i class="fa fa-tag"></i> 数据库</a></div><div class="post-nav"><div class="post-nav-item"><a href="/archives/821101a1.html" rel="prev" title="快速回顾MySQL：更新和删除操作"><i class="fa fa-chevron-left"></i> 快速回顾MySQL：更新和删除操作</a></div><div class="post-nav-item"></div></div></footer></article></div></div><div class="comments" id="comments"></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#7-1-检索数据"><span class="nav-text">7.1 检索数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-检索不同的行"><span class="nav-text">7.2 检索不同的行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-3-限制结果"><span class="nav-text">7.3 限制结果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-4-使用完全限定的表名"><span class="nav-text">7.4 使用完全限定的表名</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="https://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="flunggg" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">flunggg</p><div class="site-description" itemprop="description">做自己喜欢的事</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">4</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">4</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/magicflung" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;magicflung" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="https://blog.csdn.net/weixin_41800884" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_41800884" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-maxcdn"></i> CSDN</a></span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i> RSS</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">flunggg</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">33k</span></div><div id="days"></div><script language="javascript">function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("11/29/2019 20:00:00"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="已运行"+daysold+"天"+hrsold+"时"+minsold+"分"+seconds+"秒"}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script> <span id="busuanzi_container_site_pv">本站总访问量<span class="busuanzi-value" id="busuanzi_value_site_pv"></span>次</span><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="https://ajax.cat.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><div class="moon-menu"><div class="moon-menu-items"><div class="moon-menu-item" onclick="back2bottom()"><i class="fa fa-chevron-down"></i></div><div class="moon-menu-item" onclick="back2top()"><i class="fa fa-chevron-up"></i></div></div><div class="moon-menu-button" onclick="moonMenuClick()"><svg class="moon-menu-svg"><circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"/><circle class="moon-menu-border" cx="50%" cy="50%" r="48%"/><g class="moon-menu-points"><circle class="moon-menu-point" r=".2rem" cx="0" cy="-.8rem"/><circle class="moon-menu-point" r=".2rem"/><circle class="moon-menu-point" r=".2rem" cx="0" cy=".8rem"/></g></svg><div class="moon-menu-icon"></div><div class="moon-menu-text"></div></div></div><script>

const moonMenuListener = function () {

  //Get scroll percent
  let offsetHeight =document.documentElement.offsetHeight;
  let scrollHeight =document.documentElement.scrollHeight;
  var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
  let percent = Math.round(scrollTop/(scrollHeight - offsetHeight)*100);
  if (percent > 100) percent = 100;
  
  let menuText = document.querySelector('.moon-menu-text');
  let menuPoints = document.querySelector('.moon-menu-points');
  if (!percent){
    percent = 0;
    menuText.style.display = 'none';
    menuPoints.style.display = 'block';
  } else {
    menuText.style.display = 'block';
    menuPoints.style.display = 'none';
    menuText.innerHTML = percent + '%';
  }
  
  //Update strokeDasharray
  let length = 196;
  document.querySelector('.moon-menu-border').style.strokeDasharray = percent*length/100 + ' ' + length;

}

window.addEventListener('load' , () => {
  moonMenuListener();
});
window.addEventListener('scroll' , moonMenuListener);

const moonMenuClick = function () {
  let items = document.querySelector('.moon-menu-items')
  items.classList.toggle('active');
  let points = document.querySelectorAll('.moon-menu-point');
  let childItems = document.querySelectorAll('.moon-menu-item');
  if (items.classList.contains('active')) {
    points[0].setAttribute("cx","-.8rem");
    points[0].setAttribute("cy","0");
    points[2].setAttribute("cx",".8rem");
    points[2].setAttribute("cy","0");
    for (let i=0; i<childItems.length; i++) {
      childItems[i].style.top = -3 - 3*i + 'rem';
      childItems[i].style.opacity = .9;
    }
  } else {
    points[0].setAttribute("cx","0");
    points[0].setAttribute("cy","-.8rem");
    points[2].setAttribute("cx","0");
    points[2].setAttribute("cy",".8rem");
    for (let i=0; i<childItems.length; i++) {
      childItems[i].style.top = '1rem';
      childItems[i].style.opacity = 0;
    }
  }
};

const back2top = () => {
  window.scroll({top: 0, behavior: 'smooth'});
}

const back2bottom = () => {
  let offsetHeight =document.documentElement.offsetHeight;
  let scrollHeight =document.documentElement.scrollHeight;
  window.scroll({top: (scrollHeight - offsetHeight), behavior: 'smooth'});
}

</script><script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'ogeebUOA3cE6iHMOmWC9IdvV-gzGzoHsz',
    appKey: 'U1fUosFMtzuRYccYpt5bEDhv',
    placeholder: "Just go go",
    avatar: 'monsterid',
    meta: guest,
    pageSize: '10' || 10,
	avatar_cdn:'https://www.gravatar.com/avatar/',
    visitor: true,
    lang: '' || 'zh-cn',
    path: location.pathname,
    recordIP: false,
    serverURLs: ''
  });
}, window.Valine);
</script></body><script type="text/javascript" src="/js/src/clicklove.js"></script><script type="text/javascript" src="/js/src/FunnyTitle.js"></script><canvas id="canvas" width="1440" height="900"></canvas><script type="text/javascript" src="/js/src/DigitalRain.js"></script></html>